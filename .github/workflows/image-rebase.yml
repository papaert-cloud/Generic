name: Image Rebase & Rebuild

on:
  schedule:
    - cron: '0 6 * * 0' # weekly

jobs:
  rebase:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Find images using base image
        run: echo "Find images dependent on base image and rebuild with updated base"
      - name: Rebuild, scan, sign
        run: |
          # Rebuild images, run syft/grype, cosign sign, push to ECR
          echo "rebuild and scan"
      - name: Open PR with changes
        run: echo "Optionally open PR with new image tags"
